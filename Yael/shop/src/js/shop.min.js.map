{"version":3,"sources":["shop.min.js"],"names":["_classCallCheck","instance","Constructor","TypeError","angular","module","value","_","omit","contains","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","IamService","$resource","BASE_URI","$location","$window","this","console","info","loginUri","logoutUri","btoa","basicAuth","identity","loginname","password","success","error","loginResource","login","method","headers","Authorization","newBasicAuth","loginResponse","passwordWdh","expirationDate","enabled","log","toJson","rolle","undefined","rollen","clear","reset","logoutResource","logout","path","$inject","service","ComponentLoaderConfig","$componentLoaderProvider","setTemplateMapping","name","subdir","config","AppController","$router","redirectTo","component","controller"],"mappings":"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","file":"shop.min.js","sourcesContent":["/**\r\n * @namespace appUtil\r\n */\n\n/* global angular: false */\n/*jslint es6: true */\n'use strict';\n\nangular.module('appUtil', ['ngResource', 'ngNewRouter', 'ngAnimate']);\n/**\r\n * @fileOverview Konstante und Hilfsfunktionen\r\n * @author <a href=\"mailto:Juergen.Zimmermann@HS-Karlsruhe.de\">J&uuml;rgen Zimmermann</a>\r\n */\n\n/*jslint es6: true */\n\n'use strict';\n\n(function () {\n  'use strict';\n\n  /* global angular: false */\n  angular.module('appUtil')\n  /**\r\n   * @name BASE_URI\r\n   * @constant\r\n   * @memberOf appUtil\r\n   * @desc Konstante mit der Basis-URI des RESTful Web Service\r\n   */\n  // constant() stellt Konstante fuer config() bereit, d.h. wenn die App geladen wird\n  .value('BASE_URI', 'https://localhost:8443/shop/rest')\n\n  // globale Variable _ aus lodash oder Underscore\n  /* global _: false */\n  .value('_omit', _.omit).value('_contains', _.contains);\n})();\n/**\r\n * @fileOverview {@link appUtil.iamService Service f&uuml;r Identity und Access Management (IAM)}\r\n * @author <a href=\"mailto:Juergen.Zimmermann@HS-Karlsruhe.de\">J&uuml;rgen Zimmermann</a>\r\n */\n\n// Der Einfachheit halber ist der RESTful Web Service mit BASIC-Authentifizierung implementiert und\n// nicht mit FORM-based Authentifizierung oder mit OAuth2\n\n/*jslint es6: true */\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n(function () {\n    'use strict';\n\n    // Cookies inspizieren:\n    // Chrome: [Chrome Menu] > Tools > Entwicklertools > Resources > Cookies > localhost\n    //         https://developers.google.com/chrome-developer-tools\n    // Firefox: durch das Add-on \"Web Developer\" https://addons.mozilla.org/en-US/firefox/addon/web-developer\n\n    // Cookies in AngularJS sind keine sicheren Cookies, d.h. das Attribut 'secure' ist nicht gesetzt\n    // http://en.wikipedia.org/wiki/HTTP_cookie#Secure_cookie\n\n    // Authentifizierung mit einem Login-Formular:\n    // http://www.espeo.pl/authentication-in-angularjs-application\n\n    /**\r\n     * @class appUtil.IamService\r\n     * @desc Service f&uuml;r Identity und Access Management (IAM)\r\n     */\n\n    var IamService = (function () {\n        function IamService($resource, BASE_URI, $location, $window) {\n            _classCallCheck(this, IamService);\n\n            console.info('IamService CREATED');\n\n            this.$resource = $resource;\n            this.loginUri = '' + BASE_URI + '/iam/login';\n            this.logoutUri = '' + BASE_URI + '/iam/logout';\n            this.$location = $location;\n            this.btoa = $window.btoa;\n\n            /**\r\n             * @name basicAuth\r\n             * @type String\r\n             * @memberOf appUtil.IamService\r\n             * @desc Base64-String mit den Daten f&uuml;r die BASIC-Authentifizierung\r\n             */\n            this.basicAuth = null;\n\n            /**\r\n             * @name identity\r\n             * @type Object\r\n             * @memberOf appUtil.iamService\r\n             * @desc Objekt mit den Login-Daten\r\n             */\n            this.identity = null;\n        }\n\n        _createClass(IamService, [{\n            key: 'login',\n\n            /**\r\n             * @name login\r\n             * @function\r\n             * @memberOf appUtil.IamService\r\n             * @desc Einloggen mit Loginname und Passwort\r\n             * @param {String} loginname Loginname\r\n             * @param {String} password Password\r\n             * @param {Function} success Callback-Function f&uuml;r erfolgreiches Einloggen\r\n             * @param {Function} error Callback-Function f&uuml;r ein fehlgeschlagenes Login\r\n             * @returns {void}\r\n             */\n            value: function login(loginname, password, success, error) {\n                this.basicAuth = 'Basic ' + this.btoa(loginname + ':' + password);\n                console.info('iamService.login(): loginname = ' + loginname + ', password=' + password + ', ' + ('loginUri=' + this.loginUri + ', basicAuth=' + this.basicAuth));\n\n                // $resource:   http://docs.angularjs.org/api/ngResource/service/$resource\n                // \"A factory which creates a resource object that lets you interact with RESTful server-side data sources.\n                // The returned resource object has action methods which provide high-level behaviors without the need\n                // to interact with the low level $http service. Requires the ngResource module to be installed.\"\n\n                var loginResource = this.$resource('' + this.loginUri, {}, { login: { method: 'GET', headers: { Authorization: this.basicAuth } } });\n                loginResource.login(null, success, error);\n            }\n        }, {\n            key: 'getLoginname',\n\n            /**\r\n             * @name getLoginname\r\n             * @function\r\n             * @memberOf appUtil.IamService\r\n             * @desc Ermitteln des Loginnamens\r\n             * @returns {String} Loginname\r\n             */\n            value: function getLoginname() {\n                return this.identity.loginname;\n            }\n        }, {\n            key: 'getBasicAuth',\n\n            /**\r\n             * @name getBasicAuth\r\n             * @function\r\n             * @memberOf appUtil.IamService\r\n             * @desc Ermitteln des Base64-Strings f&uuml;r BASIC-Authentifizierung\r\n             * @returns {String} Base64-String f&uuml;r BASIC-Authentifizierung\r\n             */\n            value: function getBasicAuth() {\n                return this.basicAuth;\n            }\n        }, {\n            key: 'setBasicAuth',\n\n            /**\r\n             * @name setBasicAuth\r\n             * @function\r\n             * @memberOf appUtil.IamService\r\n             * @desc Setzen des Base64-Strings f&uuml;r BASIC-Authentifizierung\r\n             * @param {String} newBasicAuth Neuer Base64-String f&uuml;r BASIC-Authentifizierung\r\n             * @returns {void}\r\n             */\n            value: function setBasicAuth(newBasicAuth) {\n                this.basicAuth = newBasicAuth;\n            }\n        }, {\n            key: 'isLoggedIn',\n\n            /**\r\n             * @name isLoggedIn\r\n             * @function\r\n             * @memberOf appUtil.IamService\r\n             * @desc Ermitteln, ob der aktuelle User eingeloggt ist oder nicht\r\n             * @returns {boolean} true, falls der aktuelle User eingeloggt ist; false sonst\r\n             */\n            value: function isLoggedIn() {\n                return this.identity !== null;\n            }\n        }, {\n            key: 'saveIdentity',\n\n            /**\r\n             * @name inRolle\r\n             * @function\r\n             * @memberOf appUtil.IamService\r\n             * @desc Pufferung des Identity-Objekts nach erfolgreichem Login\r\n             * @param {String} loginResponse Response-Objekt nach erfolgreichem Login\r\n             * @returns {void}\r\n             */\n            value: function saveIdentity(loginResponse) {\n                delete loginResponse.password;\n                delete loginResponse.passwordWdh;\n                delete loginResponse.expirationDate;\n                delete loginResponse.enabled;\n                this.identity = loginResponse;\n                console.log('Identity: ' + angular.toJson(this.identity, true));\n            }\n        }, {\n            key: 'inRolle',\n\n            /**\r\n             * @name inRolle\r\n             * @function\r\n             * @memberOf appUtil.IamService\r\n             * @desc Ermitteln, ob der aktuelle User die angegebene Rolle hat oder nicht\r\n             * @param {String} rolle Die zu pr&uuml;fende Rolle\r\n             * @returns {boolean} true, falls der aktuelle User die angegebene Rolle hat; false sonst\r\n             */\n            value: function inRolle(rolle) {\n                /* eslint no-undefined: 0 */\n                if (this.identity === null || this.identity.rollen === undefined) {\n                    return false;\n                }\n                return this.identity.rollen[rolle];\n            }\n        }, {\n            key: 'reset',\n\n            /**\r\n             * @name reset\r\n             * @function\r\n             * @memberOf appUtil.IamService\r\n             * @desc Zur&uuml;cksetzen des Base64-Strings f&uuml;r BASIC-Authentifizierung und des Identity-Objekts\r\n             * @returns {void}\r\n             */\n            value: function reset() {\n                this.basicAuth = null;\n                this.identity = null;\n            }\n        }, {\n            key: 'logout',\n\n            /**\r\n             * @name logout\r\n             * @function\r\n             * @memberOf appUtil.IamService\r\n             * @desc Logout mit {@link appUtil.iamService.reset Zur&uuml;cksetzen der Daten}\r\n             *       und Weiterleitung zur Startseite\r\n             * @returns {void}\r\n             */\n            value: function logout() {\n                console.clear();\n                this.reset();\n                var logoutResource = this.$resource(this.logoutUri, {}, { logout: { method: 'POST' } });\n                logoutResource.logout();\n                this.$location.path('/');\n            }\n        }]);\n\n        return IamService;\n    })();\n\n    // \"Property Annotation\" fuer DI: fuer den Modus 'strict' und fuer Minification\n    IamService.$inject = ['$resource', 'BASE_URI', '$location', '$window'];\n\n    /* global angular: false */\n    angular.module('appUtil').service('iamService', IamService);\n})();\n/**\r\n * @namespace appArtikelverwaltung\r\n */\n\n/*jslint es6: true */\n/* global angular: false */\n'use strict';\n\nangular.module('appArtikelverwaltung', ['appUtil']);\n/**\r\n * @namespace appBestellverwaltung\r\n */\n\n/* global angular: false */\n/*jslint es6: true */\n'use strict';\n\nangular.module('appBestellverwaltung', ['appArtikelverwaltung']);\n/**\r\n * @namespace appKundenverwaltung\r\n */\n\n/* global angular: false */\n/*jslint es6: true */\n'use strict';\n\nangular.module('appKundenverwaltung', ['appUtil']);\n\"use strict\";\n/**\r\n * @fileOverview {@link app.AppController Controller f&uuml;r das (neue) Routing}\r\n * @author <a href=\"mailto:Juergen.Zimmermann@HS-Karlsruhe.de\">J&uuml;rgen Zimmermann</a>\r\n */\n\n/*jslint es6: true */\n'use strict';\n\n(function () {\n    'use strict';\n\n    /**\r\n     * @class app.ComponentLoaderConfig\r\n     * @desc Konfiguration f&uuml;r das Laden der Komponenten\r\n     * @param {Object} $componentLoaderProvider Injizierter ComponentLoaderProvider fuer den Router (ab AngularJS 1.4)\r\n     * @returns {void}\r\n     */\n    // config() in AngularJS erfordert Functions, keine Emulation durch Klassen\n    function ComponentLoaderConfig($componentLoaderProvider) {\n        console.info('ComponentLoaderConfig CREATED');\n\n        // name ist der Name der Komponente bei der Konfiguration von $router im AppController\n        /* eslint complexity: [2, 10] */\n        $componentLoaderProvider.setTemplateMapping(function (name) {\n            var subdir = '';\n            switch (name) {\n                // --------------------------------------\n                // artikelverwaltung\n                // --------------------------------------\n                case 'createArtikel':\n                case 'listArtikel':\n                case 'warenkorb':\n                    subdir = 'artikelverwaltung/';\n                    break;\n\n                // --------------------------------------\n                // bestellverwaltung\n                // --------------------------------------\n                case 'bestaetigung':\n                    subdir = 'bestellverwaltung/';\n                    break;\n\n                // --------------------------------------\n                // kundenverwaltung\n                // --------------------------------------\n                case 'detailsKunde':\n                case 'listKunden':\n                case 'registrierePrivatkunde':\n                case 'updateKunde':\n                    subdir = 'kundenverwaltung/';\n                    break;\n\n                default:\n                    break;\n            }\n\n            console.log('Component Name: ' + name + ' -> /components/' + subdir + '' + name + '/' + name + '.html');\n            return '/components/' + subdir + '' + name + '/' + name + '.html';\n        });\n    }\n\n    // \"Property Annotation\" fuer DI: fuer den Modus 'strict' und fuer Minification\n    ComponentLoaderConfig.$inject = ['$componentLoaderProvider'];\n\n    /* global angular: false */\n    angular.module('app').config(ComponentLoaderConfig);\n})();\n/**\r\n * @fileOverview {@link app.AppController Controller f&uuml;r das (neue) Routing}\r\n * @author <a href=\"mailto:Juergen.Zimmermann@HS-Karlsruhe.de\">J&uuml;rgen Zimmermann</a>\r\n */\n\n/*jslint es6: true */\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n(function () {\n    'use strict';\n\n    /**\r\n     * @class app.AppController\r\n     * @desc Controller, um das Routing zu konfigurieren\r\n     */\n\n    var AppController = function AppController($router) {\n        _classCallCheck(this, AppController);\n\n        console.info('AppController CREATED');\n\n        $router.config([{ path: '/', redirectTo: '/home' }, { path: '/home', component: 'home' }, { path: '/createArtikel', component: 'createArtikel' }, { path: '/listArtikel', component: 'listArtikel' }, { path: '/warenkorb', component: 'warenkorb' }, { path: '/bestaetigung', component: 'bestaetigung' }, { path: '/detailsKunde', component: 'detailsKunde' }, { path: '/listKunden', component: 'listKunden' }, { path: '/registrierePrivatkunde', component: 'registrierePrivatkunde' }, { path: '/updateKunde', component: 'updateKunde' }]);\n    };\n\n    // \"Property Annotation\" fuer DI: fuer den Modus 'strict' und fuer Minification\n    AppController.$inject = ['$router'];\n\n    /* global angular: false */\n    angular.module('app').controller('AppController', AppController);\n})();"],"sourceRoot":"/source/"}